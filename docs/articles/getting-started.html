<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started • rdynamicscrm</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
<meta property="og:description" content="">
<meta property="og:image" content="https://stevenmmortimer.github.io/rdynamicscrm/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-98603021-2', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rdynamicscrm</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/getting-started.html">Getting Started</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/StevenMMortimer/rdynamicscrm">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Getting Started</h1>
                        <h4 class="author">Steven M. Mortimer</h4>
            
            <h4 class="date">2018-08-11</h4>
      
      <small>Source: <a href="https://github.com/StevenMMortimer/rdynamicscrm/blob/master/vignettes/getting-started.Rmd"><code>vignettes/getting-started.Rmd</code></a></small>

    </div>

    
    
<p>First, load the <strong>rdynamicscrm</strong> package and authenticate.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">suppressWarnings</span>(<span class="kw">suppressMessages</span>(<span class="kw">library</span>(dplyr)))
<span class="kw">library</span>(rdynamicscrm)
<span class="kw"><a href="../reference/dyn_auth.html">dyn_auth</a></span>(<span class="dt">url =</span> <span class="st">"https://test.ztcrm.org/"</span>,
         <span class="dt">username =</span> <span class="st">"test@live.com"</span>, 
         <span class="dt">password =</span> <span class="st">"{PASSWORD_HERE}"</span>)</code></pre></div>
<p>After authenticating you can check your connectivity by looking at the information returned about the current user. It should be information about you!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># pull down information of person logged in</span>
<span class="co"># it's a simple easy call to get started </span>
<span class="co"># and confirm a connection to the APIs</span>
user_info &lt;-<span class="st"> </span><span class="kw"><a href="../reference/dyn_whoami.html">dyn_whoami</a></span>()
<span class="kw">sprintf</span>(<span class="st">"Name: %s %s"</span>, user_info<span class="op">$</span>firstname, user_info<span class="op">$</span>lastname)
<span class="kw">sprintf</span>(<span class="st">"User Active?: %s"</span>, user_info<span class="op">$</span>isactive)</code></pre></div>
<div id="create" class="section level3">
<h3 class="hasAnchor">
<a href="#create" class="anchor"></a>Create</h3>
<p>MS Dynamics CRM has entities and those entities contain records. One default entity is the “Account” entity. This example shows how to create two records in the Account entity.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n &lt;-<span class="st"> </span><span class="dv">2</span>
new_accounts &lt;-<span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="dt">FirstName =</span> <span class="kw">rep</span>(<span class="st">"Test"</span>, n),
                       <span class="dt">LastName =</span> <span class="kw">paste0</span>(<span class="st">"Account-Create-"</span>, <span class="dv">1</span><span class="op">:</span>n))
created_records &lt;-<span class="st"> </span><span class="kw">dyn_create</span>(new_accounts, <span class="dt">entity_name=</span><span class="st">"Account"</span>)
created_records</code></pre></div>
</div>
<div id="query" class="section level3">
<h3 class="hasAnchor">
<a href="#query" class="anchor"></a>Query</h3>
<p>MS Dynamics CRM has proprietary form of SQL called FetchXML. FetchXML is a powerful tool that allows you to return the attributes of records on almost any entity in MS Dynamics CRM including Accounts, Contacts, custom entities and more! Below is an example where we grab the two Account records we just created.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">queried_records &lt;-<span class="st"> </span><span class="kw">dyn_query</span>(entity <span class="op">-</span><span class="st"> "account"</span>)
queried_records

<span class="co"># example using raw FetchXML</span>
queried_records &lt;-<span class="st"> </span><span class="kw">dyn_query</span>(<span class="dt">fetchxml =</span> my_fetchxml)
queried_records</code></pre></div>
</div>
<div id="update" class="section level3">
<h3 class="hasAnchor">
<a href="#update" class="anchor"></a>Update</h3>
<p>After creating records you can update them using <code>dyn_update()</code>. Updating a record requires you to pass the MS Dynamics CRM <code>Id</code> of the record. MS Dynamics CRM creates a GUID (globally unique identifier) on each record and uses that to know which record to attach the update information you provide. Simply include a field or column in your update dataset called “Id” and the information will be matched. Here is an example where we update each of the records we created earlier with a new first name called “TestTest”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Update some of those records</span>
queried_records &lt;-<span class="st"> </span>queried_records <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">FirstName =</span> <span class="st">"TestTest"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="op">-</span>Account)

updated_records &lt;-<span class="st"> </span><span class="kw">dyn_update</span>(queried_records, <span class="dt">entity_name=</span><span class="st">"account"</span>)
updated_records</code></pre></div>
</div>
<div id="delete" class="section level3">
<h3 class="hasAnchor">
<a href="#delete" class="anchor"></a>Delete</h3>
<p>Records can easily be deleted individually or in bulk by passing a vector of IDs to the <code>dyn_delete()</code> function. Here we will delete the two records that we created in this example.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">deleted_records &lt;-<span class="st"> </span><span class="kw">dyn_delete</span>(updated_records<span class="op">$</span>id)
deleted_records</code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Steven M. Mortimer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
